"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[563],{6397:function(e,t,o){o.d(t,{A:function(){return l}});var n=o(6768);const a={id:"mobileFooter"};var i={__name:"MobileFooterView2",setup(e){function t(){window.location.href="/mobilemainview"}function o(){window.location.href="/mobilecourseview"}function i(){window.location.href="/mobilecommunity"}function s(){window.location.href="/complaintListMobile"}function c(){window.location.href="/record"}return(e,l)=>((0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("div",{class:"footer-category",onClick:l[0]||(l[0]=e=>o()),style:{"margin-right":"10px"}},l[5]||(l[5]=[(0,n.Lk)("img",{src:"/images/코스2.gif",alt:"코스 아이콘",style:{filter:"hue-rotate(280deg)",width:"45px",height:"45px"}},null,-1),(0,n.Lk)("p",{style:{}},"코스",-1)])),(0,n.Lk)("div",{class:"footer-category",onClick:l[1]||(l[1]=e=>c()),style:{"margin-right":"10px"}},l[6]||(l[6]=[(0,n.Lk)("img",{src:"/images/HikingIcon.png",alt:"등산 아이콘",style:{filter:"grayscale(100%) brightness(0%)"}},null,-1),(0,n.Lk)("p",{style:{}},"등산",-1)])),(0,n.Lk)("div",{class:"footer-category home",onClick:l[2]||(l[2]=e=>t())},l[7]||(l[7]=[(0,n.Lk)("img",{src:"/images/홈.png",alt:"홈 아이콘",style:{filter:"grayscale(100%) brightness(0%)"}},null,-1),(0,n.Lk)("p",{style:{}},"홈",-1)])),(0,n.Lk)("div",{class:"footer-category",onClick:l[3]||(l[3]=e=>s()),style:{"margin-left":"10px"}},l[8]||(l[8]=[(0,n.Lk)("img",{src:"/images/위험신고.png",alt:"민원 신고 아이콘",style:{filter:"grayscale(100%) brightness(0%)"}},null,-1),(0,n.Lk)("p",{style:{}},"민원신고",-1)])),(0,n.Lk)("div",{class:"footer-category",onClick:l[4]||(l[4]=e=>i()),style:{"margin-left":"10px"}},l[9]||(l[9]=[(0,n.Lk)("img",{src:"/images/커뮤니티.png",alt:"커뮤니티 아이콘",style:{filter:"grayscale(100%) brightness(0%)"}},null,-1),(0,n.Lk)("div",{style:{margin:"0","font-size":"13px","line-height":"1.2","text-align":"center"}},"커뮤니티",-1)]))]))}},s=o(1241);const c=(0,s.A)(i,[["__scopeId","data-v-87fc62c8"]]);var l=c},5563:function(e,t,o){o.r(t),o.d(t,{default:function(){return C}});o(4114);var n=o(6768),a=o(5130),i=o(4232),s=o(144),c=o(1387),l=o(6886),r=o.n(l),u=(o(954),o(5710),o(6912)),d=o(6397);const m={id:"infomain"},p={class:"row",style:{margin:"0px",padding:"0px"}},g={class:"review-search",style:{top:"30px","z-index":"2"}},h={class:"search-container"},b={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group",style:{position:"fixed",top:"30px","z-index":"21","justify-content":"center"}},y={class:"custom-dropdown",style:{"z-index":"100"}},v={class:"content"},f={class:"chart-section"};var k={__name:"MobileAccidentView",setup(e){delete r().Icon.Default.prototype._getIconUrl,r().Icon.Default.mergeOptions({iconRetinaUrl:o(8249),iconUrl:o(7024),shadowUrl:o(1071)}),u.t1.register(...u.$L);const t=(0,s.KR)(null),l=(0,s.KR)([]),k=(0,s.KR)([]),w=(0,s.KR)(""),L=(0,c.rd)();let C=null,x=null,_=null,A=null,E=null;const I=(0,s.KR)(window.innerHeight-289),O=(0,s.KR)(!1),z=()=>{O.value?I.value=window.innerHeight-289:I.value=0,O.value=!O.value},F=()=>L.back(),K=e=>{console.log("Navigating with course data:",e),L.push({name:"mobilecourseinfoview",query:{course:JSON.stringify(e)}})},N=(0,s.KR)(null);function R(){L.push({name:"mobileCoursePreview",query:{course:JSON.stringify(N.value)}})}function T(){L.push({name:"mobileCourse3d",query:{course:JSON.stringify(N.value)}})}function j(){L.push({name:"balance",query:{course:JSON.stringify(N.value)}})}function S(){L.push({name:"mobilerealtimeheatmap"})}function Z(){L.push({name:"mobileaccident"})}const B=(0,s.KR)(!1),q=()=>{B.value=!B.value;const e=document.querySelector(".custom-dropdown-menu");B.value?e.classList.add("show"):e.classList.remove("show")};function J(){C=r().map(t.value,{center:[37.658955,126.977834],zoom:12,zoomControl:!1,attributionControl:!1}),r().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(C),r().control.zoom({position:"bottomleft"}).addTo(C)}async function U(){try{const e=await fetch("/data/2023산악사고 copy.geojson"),t=await e.json();l.value=t.features.map((e=>({latitude:e.geometry.coordinates[1],longitude:e.geometry.coordinates[0],mountainName:e.properties.acdnt_place_nm||"알 수 없음",countAccident:0,accidentType:e.properties.acdnt_cause_asort_nm||"알 수 없음",month:e.properties.dclr_mnth||0,season:e.properties.season_se_nm||"알 수 없음"}))),M(),V()}catch(e){console.error("사고 데이터 로드 오류:",e)}}function M(){E&&C.removeLayer(E);const e=l.value.map((e=>[e.latitude,e.longitude,.5]));E=r().heatLayer(e,{radius:25,blur:15,maxZoom:17}).addTo(C)}function V(){const e=r().markerClusterGroup();l.value.forEach((t=>{const o=r().marker([t.latitude,t.longitude]);o.bindPopup(`\n          <b>사고 위치:</b> ${t.mountainName}<br>\n          <b>사고 유형:</b> ${t.accidentType}\n        `),e.addLayer(o)})),C.addLayer(e)}function X(){const e={};l.value.forEach((t=>{const o=t.mountainName||"알 수 없음";e[o]=(e[o]||0)+1})),k.value=Object.entries(e).map((([e,t])=>({mountainName:e,countAccident:t}))).sort(((e,t)=>t.countAccident-e.countAccident)).slice(0,3)}function D(){H(),$(),P()}function H(){const e={};l.value.forEach((t=>{e[t.accidentType]=(e[t.accidentType]||0)+1}));const t=document.getElementById("doughnutChart").getContext("2d");_&&_.destroy(),_=new u.t1(t,{type:"doughnut",data:{labels:Object.keys(e),datasets:[{data:Object.values(e),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0"]}]}})}function $(){const e=Array(12).fill(0);l.value.forEach((t=>{t.month>0&&e[t.month-1]++}));const t=document.getElementById("monthlyChart").getContext("2d");x&&x.destroy(),x=new u.t1(t,{type:"bar",data:{labels:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],datasets:[{label:"월별 사고",data:e,backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}function P(){const e={"봄":0,"여름":0,"가을":0,"겨울":0};l.value.forEach((t=>{void 0!==e[t.season]&&e[t.season]++}));const t=document.getElementById("statsChart").getContext("2d");A&&A.destroy(),A=new u.t1(t,{type:"bar",data:{labels:Object.keys(e),datasets:[{label:"계절별 사고",data:Object.values(e),backgroundColor:"rgba(153, 102, 255, 0.6)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}return(0,n.sV)((async()=>{try{J(),await U(),await X(),D()}catch(e){console.error("초기화 오류:",e)}})),(e,o)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",m,[(0,n.Lk)("div",p,[(0,n.Lk)("div",g,[(0,n.Lk)("div",h,[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"검색","onUpdate:modelValue":o[0]||(o[0]=e=>w.value=e)},null,512),[[a.Jo,w.value]]),o[8]||(o[8]=(0,n.Lk)("button",{class:"search-button"},[(0,n.Lk)("img",{src:"/images/돋보기white.png",alt:"Search"})],-1))])]),(0,n.Lk)("button",{id:"zoom-button",onClick:o[1]||(o[1]=(...t)=>e.Zoom&&e.Zoom(...t)),style:{"z-index":"20"}},o[9]||(o[9]=[(0,n.Lk)("img",{src:"/images/내위치2.png",alt:"Zoom"},null,-1)])),(0,n.Lk)("div",b,[(0,n.Lk)("button",{class:"button-item",onClick:F,style:{"border-radius":"50%",height:"40px",width:"40px","margin-right":"16em"}},o[10]||(o[10]=[(0,n.Lk)("img",{src:"/images/뒤로가기.png",alt:"돋보기 아이콘",width:"24",height:"24"},null,-1)])),(0,n.Lk)("div",y,[(0,n.Lk)("a",{role:"button",onClick:q,"aria-expanded":"false"},o[11]||(o[11]=[(0,n.Lk)("img",{src:"/images/hamburgerIcon.png",id:"hambugermenu",alt:"햄버거 아이콘",width:"40",height:"40"},null,-1)])),(0,n.Lk)("div",{class:(0,i.C4)(["custom-dropdown-menu",{show:B.value}])},[(0,n.Lk)("button",{class:"custom-dropdown-item delay-1",onClick:o[2]||(o[2]=e=>K(N.value))},"정보"),(0,n.Lk)("button",{class:"custom-dropdown-item delay-2",onClick:o[3]||(o[3]=e=>R())},"영상"),(0,n.Lk)("button",{class:"custom-dropdown-item delay-3",onClick:o[4]||(o[4]=e=>T())},"3D"),(0,n.Lk)("button",{class:"custom-dropdown-item delay-3",onClick:o[5]||(o[5]=e=>j())},"비교"),(0,n.Lk)("button",{class:"custom-dropdown-item delay-3",onClick:o[6]||(o[6]=e=>Z())},"사고"),(0,n.Lk)("button",{class:"custom-dropdown-item delay-3",onClick:o[7]||(o[7]=e=>S())},"실시간")],2)])]),(0,n.Lk)("div",{id:"map",ref_key:"mapContainer",ref:t,style:{height:"450px"}},null,512)])]),(0,n.Lk)("div",{class:"drag-panel",style:(0,i.Tr)({top:I.value+"px"})},[(0,n.Lk)("div",{class:"drag-handle",onClick:z}),(0,n.Lk)("div",v,[(0,n.Lk)("section",f,[o[12]||(o[12]=(0,n.Lk)("h2",null,"2024 산악사고 Top3",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.value,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("p",null,(0,i.v_)(t+1)+": "+(0,i.v_)(e.mountainName)+" ("+(0,i.v_)(e.countAccident)+"건)",1)])))),128))]),o[13]||(o[13]=(0,n.Fv)('<section class="chart-section" data-v-f7b3c90e><h2 data-v-f7b3c90e>산악 사고 유형</h2><canvas id="doughnutChart" data-v-f7b3c90e></canvas></section><section class="chart-section" data-v-f7b3c90e><h2 data-v-f7b3c90e>월별 사고 통계</h2><canvas id="monthlyChart" data-v-f7b3c90e></canvas></section><section class="chart-section" data-v-f7b3c90e><h2 data-v-f7b3c90e>계절별 사고 통계</h2><canvas id="statsChart" data-v-f7b3c90e></canvas></section>',3))])],4),(0,n.bF)(d.A)],64))}},w=o(1241);const L=(0,w.A)(k,[["__scopeId","data-v-f7b3c90e"]]);var C=L}}]);
//# sourceMappingURL=563.2c49efe9.js.map