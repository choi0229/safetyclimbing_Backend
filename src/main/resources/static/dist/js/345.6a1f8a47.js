"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[345],{1345:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});s(4114);var i=s(6768),n=s(4232),a=s(144),o=s(1387);const r={class:"course-preview-page"},c={class:"stats-container"},l={class:"card stat-item1"},u={class:"card stat-item2"};var d={__name:"WebCourse3D",setup(e){const t=(0,o.rd)(),s=()=>t.back();async function d(e,t,s){try{const i=await fetch(t),n=await i.json(),a=n.features.map((e=>{const t=e.geometry.coordinates[1],s=e.geometry.coordinates[0];return Cesium.Cartographic.fromDegrees(s,t)})),o=await Cesium.sampleTerrainMostDetailed(e.terrainProvider,a);o.forEach(((t,i)=>{const a=t.height+1,o=n.features[i];let r=s;switch(o.properties.type){case"실족":r="/images/strumble.png";break;case"조난":r="/images/distress.png";break;case"질환":r="/images/disease.png";break;case"밧줄":r="/images/rope.png";break;default:r=s}const c=e.entities.add({position:Cesium.Cartesian3.fromDegrees(Cesium.Math.toDegrees(t.longitude),Cesium.Math.toDegrees(t.latitude),a),billboard:{image:r,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,width:40,height:40},label:{text:o.properties.MNTN_NM||"",font:"14pt sans-serif",outlineColor:Cesium.Color.BLACK,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-20)},description:`<img src="${r}" alt="사진" style="width: 150px; height: 100px;"/><br><div style="padding:5px;">${o.properties.MNTN_NM||""}<br>${o.properties.SAFE_SPOT2||""}</div>`});e.selectedEntityChanged.addEventListener((t=>{Cesium.defined(t)&&t===c&&(e.infoBox.viewModel.showInfo=!0,e.infoBox.viewModel.description=c.description)}))}))}catch(i){console.error(`${t} 파일 로드 중 에러 발생:`,i)}}(0,i.sV)((()=>{const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/cesium@1.122.0/Build/Cesium/Cesium.js",e.onload=()=>{s()},document.head.appendChild(e);const t=document.createElement("link");async function s(){Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5Nzg1OWEzOS0yMWU0LTQ1MTEtOGY5NC1hZjg0YmFhNzgxMDMiLCJpZCI6MjU2MDAxLCJpYXQiOjE3MzE4OTgxMzB9.oNztRJnt40X1wN0JAS90SaLqSFEZIdQBSE7jFqLeH3g";const e=new Cesium.Viewer("cesiumContainer",{terrainProvider:await Cesium.createWorldTerrainAsync(),creditContainer:document.createElement("div"),animation:!1,navigationHelpButton:!1,homeButton:!1,sceneModePicker:!1,baseLayerPicker:!1,fullscreenButton:!1,infoBox:!1,geocoder:!1}),t=await i(),s=n(t,"마루");a(e,s),o(e,s),d(e,"/data/2023산악사고_인왕산2.geojson","/images/danger.png")}async function i(){const e=await fetch("/data/new북한산2.geojson"),t=await e.json();return t}function n(e,t){return{...e,features:e.features.filter((e=>e.properties.PMNTN_NM.includes(t)))}}function a(e,t){e.dataSources.add(Cesium.GeoJsonDataSource.load(t,{stroke:Cesium.Color.fromCssColorString("#00ff00"),fill:Cesium.Color.fromCssColorString("#00ff00"),strokeWidth:3,clampToGround:!0})).then((t=>{e.flyTo(t)}))}function o(e,t){let s=[];t.features.forEach((e=>{e.geometry.coordinates.forEach((e=>{Array.isArray(e)&&2===e.length&&s.push(e)}))}));const i=Cesium.JulianDate.now(),n=Cesium.JulianDate.addSeconds(i,s.length,new Cesium.JulianDate),a=new Cesium.SampledPositionProperty;for(let r=0;r<s.length;r++){const e=Cesium.JulianDate.addSeconds(i,r,new Cesium.JulianDate),[t,n]=s[r],o=Cesium.Cartesian3.fromDegrees(t,n);a.addSample(e,o)}const o=e.entities.add({position:a,point:{pixelSize:20,color:Cesium.Color.WHITE,outlineColor:Cesium.Color.fromCssColorString("#ffa500"),outlineWidth:3,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}});e.clock.onTick.addEventListener((()=>{const t=o.position.getValue(e.clock.currentTime);if(t){const s=Cesium.Transforms.eastNorthUpToFixedFrame(t);e.camera.lookAtTransform(s,new Cesium.Cartesian3(-700,-1800,1400)),e.camera.setView({orientation:{heading:Cesium.Math.toRadians(30),pitch:Cesium.Math.toRadians(-25),roll:0}})}})),e.clock.startTime=i.clone(),e.clock.stopTime=n.clone(),e.clock.currentTime=i.clone(),e.clock.clockRange=Cesium.ClockRange.LOOP_STOP,e.clock.multiplier=20,e.clock.shouldAnimate=!0,e.timeline.zoomTo(i,n)}t.rel="stylesheet",t.href="https://cesium.com/downloads/cesiumjs/releases/1.95/Build/Cesium/Widgets/widgets.css",document.head.appendChild(t),p.value&&h.observe(p.value)}));const m=(0,a.KR)(0),C=(0,a.KR)(0),p=(0,a.KR)(null);let f=!1;const h=new IntersectionObserver((e=>{e[0].isIntersecting&&!f&&(f=!0,g(5.6,m),g(655,C))}),{threshold:.5});function g(e,t){let s=0;const i=setInterval((()=>{s<e?(s+=Math.ceil(e/100),t.value.innerText=s>e?e:s):clearInterval(i)}),20)}return(e,t)=>((0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("button",{onClick:s,class:"back-button"},t[0]||(t[0]=[(0,i.Lk)("img",{src:"/images/뒤로가기.png",alt:"돋보기 아이콘",width:"30",height:"30"},null,-1)])),(0,i.Lk)("section",{class:"annual-analysis-section",ref_key:"annualAnalysisRef",ref:p},[t[5]||(t[5]=(0,i.Lk)("h2",{class:"section-title"},null,-1)),(0,i.Lk)("div",c,[(0,i.Lk)("div",l,[t[1]||(t[1]=(0,i.Lk)("p",{class:"stat-desc"},"거리(Km)",-1)),(0,i.Lk)("span",{class:"count-up",ref_key:"growthRate",ref:m},(0,n.v_)(m.value),513),t[2]||(t[2]=(0,i.Lk)("span",{class:"stat-title1"},"KM",-1))]),(0,i.Lk)("div",u,[t[3]||(t[3]=(0,i.Lk)("p",{class:"stat-desc"},"고도(m)",-1)),(0,i.Lk)("span",{class:"count-up",ref_key:"countries",ref:C},(0,n.v_)(C.value),513),t[4]||(t[4]=(0,i.Lk)("p",{class:"stat-title2"},"M",-1))])])],512),t[6]||(t[6]=(0,i.Lk)("div",{id:"cesiumContainer",style:{width:"100%",height:"100vh"}},null,-1))]))}},m=s(1241);const C=(0,m.A)(d,[["__scopeId","data-v-a72274d2"]]);var p=C}}]);
//# sourceMappingURL=345.6a1f8a47.js.map