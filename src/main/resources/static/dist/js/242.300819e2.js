"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[242],{4165:function(e,t,l){l.d(t,{A:function(){return c}});var a=l(6768);const n={id:"mobileFooter"};var s={__name:"MobileFooterView5",setup(e){function t(){window.location.href="/mobilemainview"}function l(){window.location.href="/mobilecourseview"}function s(){window.location.href="/mobilecommunity"}function i(){window.location.href="/complaintListMobile"}function o(){window.location.href="/record"}return(e,c)=>((0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",{class:"footer-category",onClick:c[0]||(c[0]=e=>l()),style:{"margin-right":"10px"}},c[5]||(c[5]=[(0,a.Lk)("img",{src:"/images/코스2.png",alt:"코스 아이콘",style:{filter:"grayscale(100%) brightness(0%)"}},null,-1),(0,a.Lk)("p",{style:{}},"코스",-1)])),(0,a.Lk)("div",{class:"footer-category",onClick:c[1]||(c[1]=e=>o()),style:{"margin-right":"10px"}},c[6]||(c[6]=[(0,a.Lk)("img",{src:"/images/HikingIcon.png",alt:"등산 아이콘",style:{filter:"grayscale(100%) brightness(0%)"}},null,-1),(0,a.Lk)("p",{style:{}},"등산",-1)])),(0,a.Lk)("div",{class:"footer-category home",onClick:c[2]||(c[2]=e=>t())},c[7]||(c[7]=[(0,a.Lk)("img",{src:"/images/홈.png",alt:"홈 아이콘",style:{filter:"grayscale(100%) brightness(0%)"}},null,-1),(0,a.Lk)("p",{style:{}},"홈",-1)])),(0,a.Lk)("div",{class:"footer-category",onClick:c[3]||(c[3]=e=>i()),style:{"margin-left":"10px"}},c[8]||(c[8]=[(0,a.Lk)("img",{src:"/images/위험신고.png",alt:"민원 신고 아이콘",style:{filter:"grayscale(100%) brightness(0%)"}},null,-1),(0,a.Lk)("p",{style:{}},"민원신고",-1)])),(0,a.Lk)("div",{class:"footer-category",onClick:c[4]||(c[4]=e=>s()),style:{"margin-left":"10px"}},c[9]||(c[9]=[(0,a.Lk)("img",{src:"/images/커뮤니티.gif",alt:"커뮤니티 아이콘",style:{filter:"hue-rotate(280deg)",width:"45px",height:"45px"}},null,-1),(0,a.Lk)("div",{style:{margin:"0","font-size":"13px","line-height":"1.2","text-align":"center","font-family":"'TheJamsil4Bold'","font-weight":"500"}},"커뮤니티",-1)]))]))}},i=l(1241);const o=(0,i.A)(s,[["__scopeId","data-v-7aa484b0"]]);var c=o},9242:function(e,t,l){l.r(t),l.d(t,{default:function(){return F}});l(4114);var a=l(6768),n=l(4232),s=l(5130),i=l(9126),o=l(4165),c=l(144),m=l(4373),r=l(1387);const u={class:"detail-container"},d={class:"detail-content"},g={key:0,class:"loading"},k={key:1,class:"post-details"},v={class:"post-meta"},y={class:"author mt-2"},p={class:"date ms-3 mt-2"},f={class:"image-map-container mb-2"},L=["src"],h={class:"post-body"},b={key:0,class:"comments-section"},w={class:"comment-header"},C={class:"author"},x={class:"comment-body-container"},E={class:"comment-body"},_={key:1},X={class:"comment-input-container"},N={class:"comment-input"},A={key:2};var I={__name:"CommunityDetailView",setup(e){const t=(0,r.lq)(),l=(0,r.rd)(),I=(0,c.KR)(JSON.parse(t.query.community)),K=(0,c.KR)([]),R=(0,c.KR)(""),F=(0,c.KR)(!0),B=(0,c.KR)(0),P=async()=>{const e=I.value.communityPk;try{const t=await m.A.get(`/api/detail/${e}`);I.value=t.data}catch(t){console.error("Error fetching community detail:",t.message)}finally{F.value=!1}},V=async()=>{const e=I.value.communityPk;try{const t=await m.A.get(`/api/comments/${e}`);K.value=t.data,console.log(K.value),B.value=K.value.length,console.log("총 댓글 수:",B.value)}catch(t){console.error("Error fetching comments:",t)}},J=async()=>{const e=I.value.communityPk;let t=localStorage.getItem("userNickName");try{await m.A.post("/api/comments/add",{userNickName:t,communityPk:e,commentBody:R.value}),R.value="",await V(),B.value=K.value.length}catch(l){console.error("Error posting comment:",l)}};(0,a.sV)((()=>{P(),V()}));const U=()=>{l.push({name:"mobilecommunity"})};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(i.A,{class:"header"}),(0,a.Lk)("div",{style:{"text-align":"left"}},[(0,a.Lk)("button",{class:"back-button ms-2 btn btn-success btn-sm mb-3 mt-3 ms-3 mx-2 custom-btn",onClick:U},"뒤로가기")]),(0,a.Lk)("div",d,[F.value?((0,a.uX)(),(0,a.CE)("div",g,t[1]||(t[1]=[(0,a.Lk)("p",null,"Loading...",-1)]))):I.value?((0,a.uX)(),(0,a.CE)("div",k,[(0,a.Lk)("div",v,[t[2]||(t[2]=(0,a.Lk)("div",{class:"d-flex align-items-left mb-3"},[(0,a.Lk)("img",{src:"/images/profile.png",alt:"프로필 사진",class:"profile-image me-2"})],-1)),(0,a.Lk)("span",y,(0,n.v_)(I.value.userNickName),1),t[3]||(t[3]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("span",p,(0,n.v_)(I.value.communityRegDate),1),t[4]||(t[4]=(0,a.Lk)("br",null,null,-1))]),(0,a.Lk)("div",f,[I.value.communityUrl?((0,a.uX)(),(0,a.CE)("img",{key:0,src:I.value.communityUrl,alt:"게시글 이미지",class:"img-fluid",style:{width:"500px",height:"225px","object-fit":"cover"}},null,8,L)):(0,a.Q3)("",!0)]),(0,a.Lk)("p",h,(0,n.v_)(I.value.communityBody),1),K.value.length>0?((0,a.uX)(),(0,a.CE)("div",b,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(K.value,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.commentId,class:"comment-item"},[(0,a.Lk)("div",w,[t[5]||(t[5]=(0,a.Lk)("img",{src:"/images/profile.png",alt:"프로필 사진",class:"profile-image me-2"},null,-1)),(0,a.Lk)("span",C,(0,n.v_)(I.value.userNickName),1)]),t[6]||(t[6]=(0,a.Lk)("div",{class:"underline"},null,-1)),(0,a.Lk)("div",x,[(0,a.Lk)("p",E,(0,n.v_)(e.commentBody),1)])])))),128))])):((0,a.uX)(),(0,a.CE)("div",_,t[7]||(t[7]=[(0,a.Lk)("p",{class:"no-comments"},"댓글이 없습니다.",-1)]))),(0,a.Lk)("div",X,[(0,a.Lk)("div",N,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>R.value=e),placeholder:"댓글을 입력하세요..."},null,512),[[s.Jo,R.value]]),(0,a.Lk)("button",{onClick:J,class:"btn btn-success"},"댓글 등록")])])])):((0,a.uX)(),(0,a.CE)("div",A,t[8]||(t[8]=[(0,a.Lk)("p",null,"게시글을 불러올 수 없습니다.",-1)])))]),(0,a.bF)(o.A,{class:"footer"})]))}},K=l(1241);const R=(0,K.A)(I,[["__scopeId","data-v-680911c6"]]);var F=R}}]);
//# sourceMappingURL=242.300819e2.js.map