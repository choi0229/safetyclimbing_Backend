{"version":3,"file":"js/182.126b8dea.js","mappings":"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","sources":["webpack://frontend/./src/views/RealTimePeopleView.vue","webpack://frontend/./src/views/RealTimePeopleView.vue?a97f"],"sourcesContent":["<template>\r\n  <HeaderView></HeaderView>\r\n  <div class=\"dashboard\">\r\n    <!-- 기존 사이드바 -->\r\n    <aside class=\"sidebar\">\r\n      <div class=\"header\">\r\n        <p @click=\"toggleExtraSidebar\" class=\"header-title\">자세히 보기</p>\r\n      </div>\r\n      <div class=\"content\">\r\n          <p id=\"contentTitle\">코스 이용현황</p>\r\n          <div class=\"stats-container\">\r\n            <div class=\"section\">\r\n              <h3 id=\"todayPeopleTOP5\">금일 유동인구  TOP 5</h3>\r\n              <ul class=\"station-list\">\r\n                <li>\r\n                  <div class=\"rank\">1</div>\r\n                  <div class=\"station\">마루</div>\r\n                  <div class=\"number\">47</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">2</div>\r\n                  <div class=\"station\">무악</div>\r\n                  <div class=\"number\">24</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">3</div>\r\n                  <div class=\"station\">홍제</div>\r\n                  <div class=\"number\">11</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">4</div>\r\n                  <div class=\"station\">부암</div>\r\n                  <div class=\"number\">9</div>\r\n                </li>\r\n                <!-- Add other stations -->\r\n              </ul>\r\n            </div>\r\n\r\n            <div class=\"section\">\r\n              <h3 id=\"CoursePeopleTOP5\">누적 코스별 유동인구 TOP 5</h3>\r\n              <ul class=\"station-list\">\r\n                <li>\r\n                  <div class=\"rank\">1</div>\r\n                  <div class=\"station\">무악</div>\r\n                  <div class=\"number\">67,969</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">2</div>\r\n                  <div class=\"station\">마루</div>\r\n                  <div class=\"number\">52,164</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">2</div>\r\n                  <div class=\"station\">홍제</div>\r\n                  <div class=\"number\">23,164</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">2</div>\r\n                  <div class=\"station\">부암</div>\r\n                  <div class=\"number\">7,164</div>\r\n                </li>\r\n                <!-- Add other stations -->\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"stat-section1\">\r\n            <div class=\"circle-chart\">\r\n                <svg viewBox=\"0 0 36 36\" class=\"circular-chart green\">\r\n                  <path\r\n                    class=\"circle-bg\"\r\n                    d=\"M18 2.0845\r\n                      a 15.9155 15.9155 0 0 1 0 31.831\r\n                      a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                  />\r\n                  <path\r\n                    class=\"circle\"\r\n                    stroke-dasharray=\"80, 100\"\r\n                    d=\"M18 2.0845\r\n                      a 15.9155 15.9155 0 0 1 0 31.831\r\n                      a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                  />\r\n                  <text x=\"18\" y=\"19\" class=\"chart-value\">52분</text>\r\n                </svg>\r\n                <p class=\"chart-title\">평균 등산시간</p>\r\n              </div>\r\n              <div class=\"chart-info\">\r\n                <p>[전일대비] <span class=\"down\">▼ -0.61%</span></p>\r\n                <p>[전주대비] <span class=\"down\">▼ -0.56%</span></p>\r\n              </div>\r\n            </div>\r\n          <!-- 평균 걸음속도 -->\r\n          <div class=\"stat-section2\">\r\n            <div class=\"circle-chart\">\r\n              <svg viewBox=\"0 0 36 36\" class=\"circular-chart blue\">\r\n                <path\r\n                  class=\"circle-bg\"\r\n                  d=\"M18 2.0845\r\n                    a 15.9155 15.9155 0 0 1 0 31.831\r\n                    a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                />\r\n                <path\r\n                  class=\"circle\"\r\n                  stroke-dasharray=\"65, 100\"\r\n                  d=\"M18 2.0845\r\n                    a 15.9155 15.9155 0 0 1 0 31.831\r\n                    a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                />\r\n                <text x=\"18\" y=\"19\" class=\"chart-value\">4.2km/h</text>\r\n              </svg>\r\n              <p class=\"chart-title\">평균 걸음속도</p>\r\n            </div>\r\n            <div class=\"chart-info\">\r\n              <p>[전일대비] <span class=\"down\">▼ -0.69%</span></p>\r\n              <p>[전주대비] <span class=\"up\">▲ +0.3%</span></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n    </aside>\r\n\r\n    <!-- 추가 사이드바 -->\r\n    <transition name=\"slide\" style=\"z-index: 10;\">\r\n      <aside v-if=\"isExtraSidebarVisible\" class=\"extra-sidebar\">\r\n        <div class=\"header2\">\r\n          <button @click=\"toggleExtraSidebar\" class=\"btn btn-secondary custom-btn\">&lt;</button>\r\n        </div>\r\n\r\n        <div class=\"content\">\r\n          <p id=\"contentTitle\">코스 이용현황</p>\r\n          <div class=\"stats-container\">\r\n            <div class=\"section\">\r\n              <h3 id=\"todayPeopleTOP5\">금일 유동인구  TOP 5</h3>\r\n              <ul class=\"station-list\">\r\n                <li>\r\n                  <div class=\"rank\">1</div>\r\n                  <div class=\"station\">마루</div>\r\n                  <div class=\"number\">47</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">2</div>\r\n                  <div class=\"station\">무악</div>\r\n                  <div class=\"number\">24</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">3</div>\r\n                  <div class=\"station\">홍제</div>\r\n                  <div class=\"number\">11</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">4</div>\r\n                  <div class=\"station\">부암</div>\r\n                  <div class=\"number\">9</div>\r\n                </li>\r\n                <!-- Add other stations -->\r\n              </ul>\r\n            </div>\r\n\r\n            <div class=\"section\">\r\n              <h3 id=\"CoursePeopleTOP5\">누적 코스별 유동인구 TOP 5</h3>\r\n              <ul class=\"station-list\">\r\n                <li>\r\n                  <div class=\"rank\">1</div>\r\n                  <div class=\"station\">무악</div>\r\n                  <div class=\"number\">67,969</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">2</div>\r\n                  <div class=\"station\">마루</div>\r\n                  <div class=\"number\">52,164</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">2</div>\r\n                  <div class=\"station\">홍제</div>\r\n                  <div class=\"number\">23,164</div>\r\n                </li>\r\n                <li>\r\n                  <div class=\"rank\">2</div>\r\n                  <div class=\"station\">부암</div>\r\n                  <div class=\"number\">7,164</div>\r\n                </li>\r\n                <!-- Add other stations -->\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"stat-section1\">\r\n            <div class=\"circle-chart\">\r\n                <svg viewBox=\"0 0 36 36\" class=\"circular-chart green\">\r\n                  <path\r\n                    class=\"circle-bg\"\r\n                    d=\"M18 2.0845\r\n                      a 15.9155 15.9155 0 0 1 0 31.831\r\n                      a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                  />\r\n                  <path\r\n                    class=\"circle\"\r\n                    stroke-dasharray=\"80, 100\"\r\n                    d=\"M18 2.0845\r\n                      a 15.9155 15.9155 0 0 1 0 31.831\r\n                      a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                  />\r\n                  <text x=\"18\" y=\"19\" class=\"chart-value\">52분</text>\r\n                </svg>\r\n                <p class=\"chart-title\">평균 등산시간</p>\r\n              </div>\r\n              <div class=\"chart-info\">\r\n                <p>[전일대비] <span class=\"down\">▼ -0.61%</span></p>\r\n                <p>[전주대비] <span class=\"down\">▼ -0.56%</span></p>\r\n              </div>\r\n            </div>\r\n          <!-- 평균 걸음속도 -->\r\n          <div class=\"stat-section2\">\r\n            <div class=\"circle-chart\">\r\n              <svg viewBox=\"0 0 36 36\" class=\"circular-chart blue\">\r\n                <path\r\n                  class=\"circle-bg\"\r\n                  d=\"M18 2.0845\r\n                    a 15.9155 15.9155 0 0 1 0 31.831\r\n                    a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                />\r\n                <path\r\n                  class=\"circle\"\r\n                  stroke-dasharray=\"65, 100\"\r\n                  d=\"M18 2.0845\r\n                    a 15.9155 15.9155 0 0 1 0 31.831\r\n                    a 15.9155 15.9155 0 0 1 0 -31.831\"\r\n                />\r\n                <text x=\"18\" y=\"19\" class=\"chart-value\">4.2km/h</text>\r\n              </svg>\r\n              <p class=\"chart-title\">평균 걸음속도</p>\r\n            </div>\r\n            <div class=\"chart-info\">\r\n              <p>[전일대비] <span class=\"down\">▼ -0.69%</span></p>\r\n              <p>[전주대비] <span class=\"up\">▲ +0.3%</span></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n      </aside>\r\n    </transition>\r\n\r\n    <!-- 지도 -->\r\n    <main class=\"main\">\r\n      <div id=\"map\" class=\"map-container\"></div>\r\n\r\n        <div class=\"RealTimeCard\">\r\n          <p class=\"RealTime\">{{ currentTime }}</p>\r\n        </div>\r\n\r\n        <div class=\"card peopleRealTimeCard\">\r\n          <div class=\"d-flex\">\r\n            <p class=\"people\">실시간 인원 : </p><p class=\"peopleCount\"> 37 <span>명</span></p>\r\n          </div>\r\n        </div>\r\n\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport HeaderView from '@/components/HeaderView.vue';\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\n\r\n/* global kakao */\r\nconst map = ref(null);\r\n\r\n\r\n// 지도 초기화\r\nfunction initializeMap() {\r\n  const script = document.createElement('script');\r\n  script.onload = () => kakao.maps.load(() => {\r\n    map.value = new kakao.maps.Map(document.getElementById('map'), {\r\n      center: new kakao.maps.LatLng(37.618262, 126.964524),\r\n      level: 5,\r\n      mapTypeId: kakao.maps.MapTypeId.SKYVIEW // 정확한 위성 지도 설정\r\n    });\r\n    loadGeoJSONFromServer('/data/인왕산ele copy.geojson');  // GeoJSON 파일 경로\r\n  });\r\n  script.src = 'https://dapi.kakao.com/v2/maps/sdk.js?appkey=333bda7da18df138fb4d9b3e5cf351c4&autoload=false';\r\n  document.head.appendChild(script);\r\n}\r\n\r\n// GeoJSON 데이터 로드\r\nasync function loadGeoJSONFromServer(url) {\r\n  try {\r\n    const response = await fetch(url);\r\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n    const geojsonData = await response.json();\r\n    processGeoJSON(geojsonData);\r\n  } catch (error) {\r\n    console.error('GeoJSON 파일 로드 중 에러 발생:', error);\r\n  }\r\n}\r\n\r\nfunction processGeoJSON(geojsonData) {\r\n  let allCoordinates = [];\r\n  \r\n  geojsonData.features.forEach((feature) => {\r\n    if (feature.properties.PMNTN_NM && feature.properties.PMNTN_NM.includes('마루')) {\r\n      let coordinates = [];\r\n\r\n      feature.geometry.coordinates.forEach(line => {\r\n            coordinates = coordinates.concat(line.map((coord) => ({\r\n              lng: coord[0],\r\n              lat: coord[1],\r\n              elevation: feature.properties.DN || 0\r\n            })));\r\n          });\r\n          allCoordinates = allCoordinates.concat(coordinates);\r\n          }\r\n      });\r\n      addRouteLayer(allCoordinates)\r\n\r\n        // 마커를 경로 위에 띄우기\r\n  addMarkersOnPath(allCoordinates);\r\n\r\n}\r\n\r\nfunction addRouteLayer(allCoordinates){\r\n  const linePath = allCoordinates.map(coord => new kakao.maps.LatLng(coord.lat, coord.lng));\r\n  \r\n    const polyline = new kakao.maps.Polyline({\r\n      path: linePath,\r\n      strokeWeight: 5,\r\n      strokeColor: '#32CD32', // 기본 경로 색상 (녹색)\r\n      strokeOpacity: 1, // 기본 경로는 약간 투명하게 설정\r\n      strokeStyle: 'solid'\r\n    });\r\n  \r\n    polyline.setMap(map.value);\r\n}\r\n\r\n// 경로 위에 마커 추가 함수\r\nfunction addMarkersOnPath(coordinates) {\r\n  if (!coordinates.length) return;\r\n\r\n  // 촘촘한 경로 생성\r\n  const densePath = generateDensePath(coordinates.map(coord => ({\r\n    lat: coord.lat,\r\n    lng: coord.lng\r\n  })));\r\n\r\n  \r\n\r\n  // 10개의 마커를 추가\r\n  for (let i = 0; i < 37; i++) {\r\n    const randomStartIndex = getWeightedRandomIndex(densePath.length); // 가중치 기반 시작점 선택\r\n    const isReverse = Math.random() > 0.5; // 랜덤 방향 (정방향: false, 역방향: true)\r\n    addMarkerWithAnimation(densePath, randomStartIndex, isReverse);\r\n  }\r\n}\r\n\r\n// 가중치 기반 랜덤 시작점 선택\r\nfunction getWeightedRandomIndex(length) {\r\n  // 초반부 좌표에 높은 가중치를 부여\r\n  const weights = Array.from({ length }, (_, i) => Math.max(length - i, 1)); // 초반부 높은 값, 후반부 낮은 값\r\n  const totalWeight = weights.reduce((acc, weight) => acc + weight, 0);\r\n  const randomWeight = Math.random() * totalWeight;\r\n\r\n  let cumulativeWeight = 0;\r\n  for (let i = 0; i < length; i++) {\r\n    cumulativeWeight += weights[i];\r\n    if (randomWeight <= cumulativeWeight) {\r\n      return i;\r\n    }\r\n  }\r\n\r\n  return 0; // 기본적으로 첫 번째 인덱스를 반환\r\n}\r\n\r\n\r\n// 촘촘한 경로 생성 함수\r\nfunction generateDensePath(points) {\r\n  const densePath = [];\r\n  for (let i = 0; i < points.length - 1; i++) {\r\n    const start = points[i];\r\n    const end = points[i + 1];\r\n    const steps = 50; // 촘촘하게 생성할 단계 수\r\n    for (let j = 0; j <= steps; j++) {\r\n      const lat = start.lat + ((end.lat - start.lat) * j) / steps;\r\n      const lng = start.lng + ((end.lng - start.lng) * j) / steps;\r\n      densePath.push({ lat, lng });\r\n    }\r\n  }\r\n  return densePath;\r\n}\r\n\r\n// 마커 생성 및 이동 애니메이션\r\nfunction addMarkerWithAnimation(path, startIndex, isReverse) {\r\n  const marker = new kakao.maps.Marker({\r\n    position: new kakao.maps.LatLng(path[startIndex].lat, path[startIndex].lng),\r\n    map: map.value,\r\n    image: new kakao.maps.MarkerImage(\r\n      'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png',\r\n      new kakao.maps.Size(30, 30)\r\n    )\r\n  });\r\n\r\n  let currentIndex = startIndex;\r\n\r\n  function moveMarker() {\r\n    if (isReverse) {\r\n      // 역방향 이동\r\n      currentIndex--;\r\n      if (currentIndex < 0) {\r\n        currentIndex = path.length - 1; // 시작점으로 돌아감\r\n      }\r\n    } else {\r\n      // 정방향 이동\r\n      currentIndex++;\r\n      if (currentIndex >= path.length) {\r\n        currentIndex = 0; // 시작점으로 돌아감\r\n      }\r\n    }\r\n\r\n    const nextPosition = new kakao.maps.LatLng(path[currentIndex].lat, path[currentIndex].lng);\r\n    marker.setPosition(nextPosition);\r\n\r\n    requestAnimationFrame(moveMarker); // 부드러운 애니메이션\r\n  }\r\n\r\n  moveMarker();\r\n}\r\n\r\nconst currentTime = ref('');\r\n\r\nconst updateTime = () => {\r\n  const now = new Date();\r\n  // 대한민국 표준 시간대 (Asia/Seoul) 기준으로 시간 포맷팅\r\n  currentTime.value = now.toLocaleTimeString('ko-KR', {\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n    second: '2-digit',\r\n  });\r\n};\r\n\r\n\r\n// 지도 로드\r\nonMounted(() => {\r\n  initializeMap();\r\n  updateTime(); // 초기 실행\r\n  const timer = setInterval(updateTime, 1000); // 매 초마다 시간 업데이트\r\n    // 컴포넌트가 언마운트되면 타이머 제거\r\n    onUnmounted(() => {\r\n    clearInterval(timer);\r\n  });\r\n});\r\n\r\n\r\n// 추가 사이드바의 상태\r\nconst isExtraSidebarVisible = ref(false);\r\n\r\n// 추가 사이드바 열고 닫기\r\nfunction toggleExtraSidebar() {\r\n  isExtraSidebarVisible.value = !isExtraSidebarVisible.value;\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.dashboard {\r\n  display: grid;\r\n  grid-template-columns: 410px 1fr;\r\n  height: 100%;\r\n}\r\n\r\n/* 기존 사이드바 스타일 */\r\n.sidebar {\r\n  background-color: #ffffff;\r\n  width: 410px;\r\n  max-height: 100%;\r\n  border-right: 1px solid #ddd;\r\n}\r\n\r\n.sidebar .header {\r\n  padding: 10px;\r\n  background-color: #fff;\r\n  border-bottom: 1px solid #ddd;\r\n  margin-top: 0.9rem;\r\n}\r\n\r\n.header2{\r\n  padding: 10px;\r\n  display: flex;\r\n  background-color: #fff;\r\n  border-bottom: 1px solid #ddd;\r\n  margin-top: 5rem;\r\n}\r\n\r\n.custom-btn{\r\n  border: none ;\r\n  color: none;\r\n  \r\n}\r\n\r\n.sidebar .header-title {\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n}\r\n\r\n.sidebar .content {\r\n  padding: 10px;\r\n}\r\n\r\n.content{\r\n  height: 85vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* 추가 사이드바 스타일 */\r\n.extra-sidebar {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 410px;\r\n  width: 400px;\r\n  height: 100%;\r\n  background-color: #ffffff;\r\n  border-left: 1px solid #ddd;\r\n  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: auto;\r\n}\r\n\r\n\r\n\r\n/* 애니메이션 효과 */\r\n.slide-enter-active,\r\n.slide-leave-active {\r\n  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;\r\n}\r\n.slide-enter-from {\r\n  transform: translateX(-100%);\r\n  opacity: 0;\r\n}\r\n.slide-enter-to {\r\n  transform: translateX(0);\r\n  opacity: 1;\r\n}\r\n.slide-leave-from {\r\n  transform: translateX(0);\r\n  opacity: 1;\r\n}\r\n.slide-leave-to {\r\n  transform: translateX(-100%);\r\n  opacity: 0;\r\n}\r\n\r\n/* 지도 스타일 */\r\n.main {\r\n  background-color: #fff;\r\n}\r\n\r\n.map-container {\r\n  height: 854px;\r\n  width: 100%;\r\n}\r\n\r\n/** 사이드 바 내용 */\r\n\r\n.stats-container {\r\n  display: flex;\r\n  flex-direction: column; /* 세로 정렬 */\r\n  gap: 2rem; /* 섹션 간 간격 */\r\n  padding: 50px;\r\n}\r\n\r\n.section {\r\n  background: #f9f9f9;\r\n  border: 1px solid #ddd;\r\n  padding: 30px;\r\n  border-radius: 10px;\r\n}\r\n\r\nh3 {\r\n  margin: 0 0 10px;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n\r\n.station-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.station-list li {\r\n  display: flex;\r\n  justify-content: space-between; /* 항목을 양끝에 정렬 */\r\n  align-items: center;\r\n  padding: 5px 0;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.station-list li:last-child {\r\n  border-bottom: none; /* 마지막 항목은 경계선 없음 */\r\n}\r\n\r\n.rank {\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.station {\r\n  flex: 1;\r\n  text-align: left;\r\n  margin-left: 10px;\r\n}\r\n\r\n.number {\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.stats {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n\r\n.stat {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.change {\r\n  font-size: 14px;\r\n  color: #999;\r\n}\r\n\r\n.circle-chart {\r\n  position: relative;\r\n  width: 300px;\r\n  height: 300px;\r\n}\r\n\r\n.circular-chart {\r\n  display: block;\r\n  margin: 0 auto;\r\n  max-width: 100%;\r\n  max-height: 250px;\r\n}\r\n\r\n.circle-bg {\r\n  fill: none;\r\n  stroke: #eeeeee;\r\n  stroke-width: 3.8;\r\n}\r\n\r\n.circle {\r\n  fill: none;\r\n  stroke-width: 2.8;\r\n  stroke-linecap: round;\r\n  transform: rotate(-90deg);\r\n  transform-origin: center;\r\n  transition: stroke-dasharray 0.5s;\r\n}\r\n\r\n.circular-chart.green .circle {\r\n  stroke: #4caf50;\r\n}\r\n\r\n.circular-chart.blue .circle {\r\n  stroke: #2196f3;\r\n}\r\n\r\n.chart-value {\r\n  font-family: 'TheJamsil';\r\n  font-weight: 500;\r\n  font-size: 0.35em;\r\n  fill: #333333;\r\n  text-anchor: middle;\r\n  dominant-baseline: middle;\r\n  \r\n}\r\n\r\n.chart-title {\r\n  font-family: 'TheJamsil';\r\n  font-size: 20px;\r\n  font-weight: 400;\r\n  margin-top: 1.3rem;\r\n  text-align: center;\r\n}\r\n\r\n.chart-info {\r\n  font-family: 'TheJamsil';\r\n  font-size: 16px;\r\n  font-weight: 300;\r\n  text-align: center;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.chart-info p {\r\n  margin: 5px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.down {\r\n  color: red;\r\n}\r\n\r\n.up {\r\n  color: blue;\r\n}\r\n\r\n.stat-section1 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 3rem;\r\n}\r\n\r\n.stat-section2 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-top: 5rem;\r\n  margin-bottom: 3rem;\r\n}\r\n\r\n#contentTitle{\r\n  font-family: 'TheJamsil';\r\n  font-weight: 400;\r\n  font-size: 30px;\r\n  text-align: center;\r\n  margin-top: 3rem;\r\n}\r\n\r\n#todayPeopleTOP5{\r\n  font-family: 'TheJamsil';\r\n  font-weight: 300;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n#CoursePeopleTOP5{\r\n  font-family: 'TheJamsil';\r\n  font-weight: 300;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n\r\n/** 기본 사이드바 내용 */\r\n\r\n.accident-summary {\r\n  text-align: center;\r\n  background: #f9f9f9;\r\n  padding: 19px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.carousel-container {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  flex-direction: column;\r\n}\r\n\r\n.card-carousel {\r\n  display: row;\r\n  gap: 1.4rem;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  scroll-behavior: smooth;\r\n  width: 100%; /* 전체 폭을 차지 */\r\n}\r\n\r\n.card-carousel::-webkit-scrollbar {\r\n  display: none; /* 스크롤바 가리기 */\r\n}\r\n\r\n.card {\r\n  position: relative;\r\n  width: 351px;\r\n  height: 70px;\r\n  background-color: #fff;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  flex-shrink: 0; /* 카드가 줄어들지 않고 고정된 크기로 유지 */\r\n  margin-top: 1rem;\r\n}\r\n\r\n.card-img-top {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-top: -1.2rem;\r\n}\r\n\r\n.card-overlay {\r\n  position: absolute;\r\n  left: 0;\r\n  width: 100%;\r\n  padding: 1.4rem;\r\n  text-align: left;\r\n}\r\n\r\n.accident-item-content1 {\r\n  color: #000;\r\n  font-family: 'TheJamsil';\r\n  font-size: 14px;\r\n  font-weight: 300;\r\n  margin-left: 5rem;\r\n}\r\n\r\n.accident-item-content2 {\r\n  color: #000000;\r\n  font-weight: 100;\r\n  font-size: 16px;\r\n  margin-top: -1rem;\r\n}\r\n\r\n#DangerImage1, #DangerImage2, #DangerImage3 {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 50px;\r\n  height: 50px;\r\n  margin-top: 0.6rem;\r\n  margin-right: 1rem;\r\n  object-fit: cover;\r\n  border-radius: 5px;\r\n}\r\n\r\n#DangerImage2 {\r\n  gap: 10rem;\r\n  display: flex !important;\r\n}\r\n\r\n.RealTimeCard{\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  border: none;\r\n  color: white;\r\n  margin-top: 8rem;\r\n  margin-right: 3rem;\r\n  z-index: 100;\r\n  height: 100px;\r\n}\r\n\r\n.RealTime{\r\n  font-family: 'TheJamsil';\r\n  font-size: 30px;\r\n  font-weight: 500;\r\n}\r\n\r\n.peopleRealTimeCard{\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  margin-top: 12rem;\r\n  margin-right: 2.5rem;\r\n  z-index: 100;\r\n  width: 260px;\r\n  height: 65px;\r\n  padding: 10px;\r\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.9); /* 가벼운 그림자 추가 */\r\n}\r\n\r\n.people{\r\n  font-family: 'TheJamsil';\r\n  font-size: 30px;\r\n  font-weight: 500;\r\n}\r\n\r\n.peopleCount{\r\n  font-family: 'TheJamsil';\r\n  font-size: 30px;\r\n  font-weight: 500;\r\n}\r\n\r\n</style>\r\n","import script from \"./RealTimePeopleView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RealTimePeopleView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RealTimePeopleView.vue?vue&type=style&index=0&id=5cd11e16&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5cd11e16\"]])\n\nexport default __exports__"],"names":["map","ref","initializeMap","script","document","createElement","onload","kakao","maps","load","value","Map","getElementById","center","LatLng","level","mapTypeId","MapTypeId","SKYVIEW","loadGeoJSONFromServer","src","head","appendChild","async","url","response","fetch","ok","Error","status","geojsonData","json","processGeoJSON","error","console","allCoordinates","features","forEach","feature","properties","PMNTN_NM","includes","coordinates","geometry","line","concat","coord","lng","lat","elevation","DN","addRouteLayer","addMarkersOnPath","linePath","polyline","Polyline","path","strokeWeight","strokeColor","strokeOpacity","strokeStyle","setMap","length","densePath","generateDensePath","i","randomStartIndex","getWeightedRandomIndex","isReverse","Math","random","addMarkerWithAnimation","weights","Array","from","_","max","totalWeight","reduce","acc","weight","randomWeight","cumulativeWeight","points","start","end","steps","j","push","startIndex","marker","Marker","position","image","MarkerImage","Size","currentIndex","moveMarker","nextPosition","setPosition","requestAnimationFrame","currentTime","updateTime","now","Date","toLocaleTimeString","hour","minute","second","onMounted","timer","setInterval","onUnmounted","clearInterval","isExtraSidebarVisible","toggleExtraSidebar","__exports__"],"sourceRoot":""}