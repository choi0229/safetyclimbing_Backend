"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[359],{8359:function(e,l,a){a.r(l),a.d(l,{default:function(){return h}});a(4114);var o=a(6768),t=a(4232),u=a(5130),n=a(144),r=a(1387),s=a(4373);const i={class:"review-form"},c=["value"],v={class:"rating"},d={class:"stars"},p=["onClick"],k="123";var f={__name:"WeatherView",setup(e){const l=(0,r.rd)(),a=(0,n.KR)(""),f=(0,n.KR)(0),L=(0,n.KR)(""),b=(0,n.KR)(""),h=(0,n.KR)([]),y=(0,n.KR)([]),C=e=>{f.value=e},w=e=>{h.value=Array.from(e.target.files),console.log(h.value)},m=()=>a.value?0===f.value?(alert("별점을 선택하세요."),!1):L.value?!!b.value||(alert("리뷰 내용을 입력하세요."),!1):(alert("난이도를 선택하세요."),!1):(alert("코스를 선택하세요."),!1),g=async()=>{if(!m())return;const e={courseId:a.value,userId:k,rating:f.value,difficulty:L.value,reviewContent:b.value};console.log("리뷰 데이터:",e),console.log("사진 데이터:",h.value);const o=new FormData;o.append("review",new Blob([JSON.stringify(e)],{type:"application/json"})),h.value.forEach(((e,l)=>{o.append(`photos[${l}]`,e)}));try{await s.A.post("/api/reviews/create",o,{headers:{"Content-Type":"multipart/form-data"}}),alert("리뷰가 성공적으로 작성되었습니다!"),l.push("/review")}catch(t){console.error("리뷰 작성 오류:",t)}};return(0,o.sV)((async()=>{try{const e=await s.A.get("/api/course");y.value=e.data}catch(e){console.error("코스 목록 불러오기 오류:",e)}})),(e,l)=>((0,o.uX)(),(0,o.CE)("div",i,[l[6]||(l[6]=(0,o.Lk)("h2",null,"리뷰 작성",-1)),l[7]||(l[7]=(0,o.Lk)("label",{for:"course"},"코스 선택:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),id:"course"},[l[3]||(l[3]=(0,o.Lk)("option",{value:"",disabled:""},"코스를 선택하세요",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(y.value,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.courseId,value:e.courseId},(0,t.v_)(e.courseName),9,c)))),128))],512),[[u.u1,a.value]]),(0,o.Lk)("div",v,[l[4]||(l[4]=(0,o.Lk)("label",null,"별점:",-1)),(0,o.Lk)("div",d,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(5,(e=>(0,o.Lk)("i",{key:e,class:(0,t.C4)(e<=f.value?"bi bi-star-fill":"bi bi-star"),onClick:l=>C(e)},null,10,p))),64))])]),l[8]||(l[8]=(0,o.Lk)("label",{for:"difficulty"},"난이도:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>L.value=e),id:"difficulty"},l[5]||(l[5]=[(0,o.Lk)("option",{value:"",disabled:""},"난이도를 선택하세요",-1),(0,o.Lk)("option",{value:"쉬움"},"쉬움",-1),(0,o.Lk)("option",{value:"보통"},"보통",-1),(0,o.Lk)("option",{value:"어려움"},"어려움",-1)]),512),[[u.u1,L.value]]),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":l[2]||(l[2]=e=>b.value=e),placeholder:"후기 내용을 입력하세요"},null,512),[[u.Jo,b.value]]),l[9]||(l[9]=(0,o.Lk)("label",{for:"photos"},"사진 업로드:",-1)),(0,o.Lk)("input",{type:"file",multiple:"",onChange:w},null,32),(0,o.Lk)("button",{onClick:g},"리뷰 작성")]))}},L=a(1241);const b=(0,L.A)(f,[["__scopeId","data-v-005f3435"]]);var h=b}}]);
//# sourceMappingURL=359.69846855.js.map