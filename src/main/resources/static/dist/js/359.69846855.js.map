{"version":3,"file":"js/359.69846855.js","mappings":"gUA6DMA,EAAS,M,qCAVf,MAAMC,GAASC,EAAAA,EAAAA,MAETC,GAAiBC,EAAAA,EAAAA,IAAI,IACrBC,GAASD,EAAAA,EAAAA,IAAI,GACbE,GAAaF,EAAAA,EAAAA,IAAI,IACjBG,GAAgBH,EAAAA,EAAAA,IAAI,IACpBI,GAASJ,EAAAA,EAAAA,IAAI,IACbK,GAAUL,EAAAA,EAAAA,IAAI,IAKdM,EAAaC,IACnBN,EAAOO,MAAQD,CAAI,EAGbE,EAAgBC,IACtBN,EAAOI,MAAQG,MAAMC,KAAKF,EAAMG,OAAOC,OACvCC,QAAQC,IAAIZ,EAAOI,MAAM,EAInBS,EAAeA,IAChBlB,EAAeS,MAIC,IAAjBP,EAAOO,OACTU,MAAM,eACC,GAEJhB,EAAWM,QAIXL,EAAcK,QACjBU,MAAM,kBACC,IALPA,MAAM,gBACC,IATPA,MAAM,eACC,GAkBHC,EAAeC,UACrB,IAAKH,IACH,OAGF,MAAMI,EAAS,CACbC,SAAUvB,EAAeS,MACzBZ,OAAQA,EACRK,OAAQA,EAAOO,MACfN,WAAYA,EAAWM,MACvBL,cAAeA,EAAcK,OAG/BO,QAAQC,IAAI,UAAWK,GACvBN,QAAQC,IAAI,UAAWZ,EAAOI,OAE9B,MAAMe,EAAW,IAAIC,SACrBD,EAASE,OAAO,SAAU,IAAIC,KAAK,CAACC,KAAKC,UAAUP,IAAU,CAAEQ,KAAM,sBAErEzB,EAAOI,MAAMsB,SAAQ,CAACC,EAAOC,KAC3BT,EAASE,OAAO,UAAUO,KAAUD,EAAM,IAG5C,UACQE,EAAAA,EAAMC,KAAK,sBAAuBX,EAAU,CAChDY,QAAS,CACP,eAAgB,yBAGpBjB,MAAM,sBACNrB,EAAOuC,KAAK,UACd,CAAE,MAAOC,GACPtB,QAAQsB,MAAM,YAAaA,EAC7B,G,OAGAC,EAAAA,EAAAA,KAAUlB,UACV,IACE,MAAMmB,QAAiBN,EAAAA,EAAMO,IAAI,eACjCnC,EAAQG,MAAQ+B,EAASE,IAC3B,CAAE,MAAOJ,GACPtB,QAAQsB,MAAM,iBAAkBA,EAClC,K,23CClIA,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://frontend/./src/views/WeatherView.vue","webpack://frontend/./src/views/WeatherView.vue?ac6c"],"sourcesContent":["<template>\r\n  <div class=\"review-form\">\r\n    <h2>리뷰 작성</h2>\r\n\r\n    <!-- 코스 선택 -->\r\n    <label for=\"course\">코스 선택:</label>\r\n    <select v-model=\"selectedCourse\" id=\"course\">\r\n      <option value=\"\" disabled>코스를 선택하세요</option>\r\n      <option v-for=\"course in courses\" :key=\"course.courseId\" :value=\"course.courseId\">\r\n        {{ course.courseName }}\r\n      </option>\r\n    </select>\r\n\r\n    <!-- 별점 -->\r\n    <div class=\"rating\">\r\n      <label>별점:</label>\r\n      <div class=\"stars\">\r\n        <i v-for=\"star in 5\" \r\n           :key=\"star\" \r\n           :class=\"star <= rating ? 'bi bi-star-fill' : 'bi bi-star' \"\r\n           @click=\"setRating(star)\">\r\n        </i>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 난이도 선택 -->\r\n    <label for=\"difficulty\">난이도:</label>\r\n    <select v-model=\"difficulty\" id=\"difficulty\">\r\n      <option value=\"\" disabled>난이도를 선택하세요</option>\r\n      <option value=\"쉬움\">쉬움</option>\r\n      <option value=\"보통\">보통</option>\r\n      <option value=\"어려움\">어려움</option>\r\n    </select>\r\n\r\n    <!-- 리뷰 내용 -->\r\n    <textarea v-model=\"reviewContent\" placeholder=\"후기 내용을 입력하세요\"></textarea>\r\n\r\n    <!-- 사진 업로드 -->\r\n    <label for=\"photos\">사진 업로드:</label>\r\n    <input type=\"file\" multiple @change=\"onFileChange\" />\r\n\r\n    <!-- 제출 버튼 -->\r\n    <button @click=\"submitReview\">리뷰 작성</button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from 'axios';\r\n\r\nconst router = useRouter();\r\n\r\nconst selectedCourse = ref('');\r\nconst rating = ref(0);\r\nconst difficulty = ref('');\r\nconst reviewContent = ref('');\r\nconst photos = ref([]);\r\nconst courses = ref([]);\r\n\r\n// 실제 로그인된 유저 아이디\r\nconst userId = \"123\"; \r\n\r\nconst setRating = (star) => {\r\nrating.value = star;\r\n};\r\n\r\nconst onFileChange = (event) => {\r\nphotos.value = Array.from(event.target.files);\r\nconsole.log(photos.value);\r\n};\r\n\r\n// 필수 항목 작성 여부 확인\r\nconst validateForm = () => {\r\nif (!selectedCourse.value) {\r\n  alert('코스를 선택하세요.');\r\n  return false;\r\n}\r\nif (rating.value === 0) {\r\n  alert('별점을 선택하세요.');\r\n  return false;\r\n}\r\nif (!difficulty.value) {\r\n  alert('난이도를 선택하세요.');\r\n  return false;\r\n}\r\nif (!reviewContent.value) {\r\n  alert('리뷰 내용을 입력하세요.');\r\n  return false;\r\n}\r\nreturn true;\r\n};\r\n\r\n// 리뷰 작성 요청 함수\r\nconst submitReview = async () => {\r\nif (!validateForm()) {\r\n  return; // 입력값이 부족하면 제출하지 않음\r\n}\r\n\r\nconst review = {\r\n  courseId: selectedCourse.value,\r\n  userId: userId, \r\n  rating: rating.value,\r\n  difficulty: difficulty.value,\r\n  reviewContent: reviewContent.value,\r\n};\r\n\r\nconsole.log(\"리뷰 데이터:\", review); \r\nconsole.log(\"사진 데이터:\", photos.value); \r\n\r\nconst formData = new FormData();\r\nformData.append('review', new Blob([JSON.stringify(review)], { type: 'application/json' }));\r\n\r\nphotos.value.forEach((photo, index) => {\r\n  formData.append(`photos[${index}]`, photo);\r\n});\r\n\r\ntry {\r\n  await axios.post('/api/reviews/create', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n  alert('리뷰가 성공적으로 작성되었습니다!');\r\n  router.push('/review');\r\n} catch (error) {\r\n  console.error('리뷰 작성 오류:', error);\r\n}\r\n};\r\n\r\nonMounted(async () => {\r\ntry {\r\n  const response = await axios.get('/api/course');\r\n  courses.value = response.data;\r\n} catch (error) {\r\n  console.error('코스 목록 불러오기 오류:', error);\r\n}\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.review-form {\r\ndisplay: flex;\r\nflex-direction: column;\r\ngap: 10px;\r\nmax-width: 600px;\r\nmargin: 0 auto;\r\npadding: 20px;\r\nborder: 1px solid #ddd;\r\nborder-radius: 8px;\r\nbackground-color: #f9f9f9;\r\n}\r\n.stars {\r\ndisplay: flex;\r\ncursor: pointer;\r\n}\r\n.bi-star-fill, .bi-star {\r\nfont-size: 24px;\r\ncolor: #ffc107;\r\n}\r\n</style>\r\n","import script from \"./WeatherView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WeatherView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WeatherView.vue?vue&type=style&index=0&id=005f3435&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-005f3435\"]])\n\nexport default __exports__"],"names":["userId","router","useRouter","selectedCourse","ref","rating","difficulty","reviewContent","photos","courses","setRating","star","value","onFileChange","event","Array","from","target","files","console","log","validateForm","alert","submitReview","async","review","courseId","formData","FormData","append","Blob","JSON","stringify","type","forEach","photo","index","axios","post","headers","push","error","onMounted","response","get","data","__exports__"],"sourceRoot":""}